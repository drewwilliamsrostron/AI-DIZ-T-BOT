<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="22" time="3.207" timestamp="2025-06-09T01:10:12.922160" hostname="Office3_2025"><testcase classname="tests.test_attention_entropy" name="test_attention_entropy_random" file="tests\test_attention_entropy.py" line="8" time="0.004"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_attention_entropy" name="test_attention_entropy_zero" file="tests\test_attention_entropy.py" line="4" time="0.000"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_attention_integration" name="test_attention_integration" file="tests\test_attention_integration.py" line="5" time="0.009"><failure message="assert 2.0811426639556885 &lt;= 2.0794415416798357&#10; +  where 2.0794415416798357 = &lt;built-in function log&gt;(8)&#10; +    where &lt;built-in function log&gt; = math.log&#10; +    and   8 = &lt;built-in method size of Tensor object at 0x000001906C82B2F0&gt;(-1)&#10; +      where &lt;built-in method size of Tensor object at 0x000001906C82B2F0&gt; = tensor([0.1094, 0.1583, 0.1110, 0.1446, 0.0967, 0.1429, 0.1539, 0.1011],\n       grad_fn=&lt;MeanBackward1&gt;).size">def test_attention_integration():
        m = model.TradingTransformer()
        x = torch.randn(2, 8, m.input_dim)
        _ = m(x)
        block = m.transformer_encoder.layers[0].self_attn
        _, attn_weights = block(x, x, x, need_weights=True)
        p = attn_weights.mean(dim=(0, 1))
        ent = utils.attention_entropy(p)
&gt;       assert 1.0 &lt;= ent &lt;= math.log(p.size(-1))
E       assert 2.0811426639556885 &lt;= 2.0794415416798357
E        +  where 2.0794415416798357 = &lt;built-in function log&gt;(8)
E        +    where &lt;built-in function log&gt; = math.log
E        +    and   8 = &lt;built-in method size of Tensor object at 0x000001906C82B2F0&gt;(-1)
E        +      where &lt;built-in method size of Tensor object at 0x000001906C82B2F0&gt; = tensor([0.1094, 0.1583, 0.1110, 0.1446, 0.0967, 0.1429, 0.1539, 0.1011],\n       grad_fn=&lt;MeanBackward1&gt;).size

tests\test_attention_integration.py:14: AssertionError</failure><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_attention" name="test_attention_entropy_range" file="tests\test_attention.py" line="4" time="0.001"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_backtest" name="test_robust_backtest_simple" file="tests\test_backtest.py" line="44" time="0.008"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_dataset" name="test_hourlydataset_basic" file="tests\test_dataset.py" line="85" time="0.001"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_dataset" name="test_load_csv_hourly_missing" file="tests\test_dataset.py" line="63" time="0.003"><system-out>--------------------------------- Captured Log ---------------------------------
WARNING  root:dataset.py:51 CSV file 'C:\Users\John\AppData\Local\Temp\pytest-of-John\pytest-6\test_load_csv_hourly_missing0\nope.csv' not found.
--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_dataset" name="test_load_csv_hourly_parse" file="tests\test_dataset.py" line="68" time="0.005"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_entropy_logits_vs_probs" name="test_entropy_logits_vs_probs" file="tests\test_entropy_logits_vs_probs.py" line="4" time="0.001"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_entropy_range" name="test_entropy_range_logits" file="tests\test_entropy_range.py" line="4" time="0.001"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_filters" name="test_reject_if_risky" file="tests\test_filters.py" line="3" time="0.000"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_metrics" name="test_compute_days_in_profit" file="tests\test_metrics.py" line="46" time="0.000"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_metrics" name="test_compute_yearly_stats_basic" file="tests\test_metrics.py" line="60" time="0.006"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_metrics" name="test_inactivity_exponential_penalty" file="tests\test_metrics.py" line="36" time="0.000"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_risk_gate_integration" name="test_gate_triggered" file="tests\test_risk_gate_integration.py" line="3" time="0.000"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_rl" name="test_apply_action_custom_space" file="tests\test_rl.py" line="108" time="0.601"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_rl" name="test_find_nearest_action" file="tests\test_rl.py" line="69" time="0.006"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_rl" name="test_no_warnings" file="tests\test_rl.py" line="147" time="0.002"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_rl" name="test_pick_action_deterministic" file="tests\test_rl.py" line="77" time="0.007"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_scaling" name="test_adaptive_scaler" file="tests\test_scaling.py" line="29" time="0.005"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_selection" name="test_choose_best" file="tests\test_selection.py" line="3" time="0.000"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="tests.test_smoke" name="test_end_to_end_smoke" file="tests\test_smoke.py" line="13" time="2.275"><system-out>--------------------------------- Captured Log ---------------------------------
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1741859912872314, 'max_prob': 0.05384295806288719}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.176387071609497, 'max_prob': 0.05016249418258667}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1720163822174072, 'max_prob': 0.05277310684323311}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.174091339111328, 'max_prob': 0.05901247262954712}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1747453212738037, 'max_prob': 0.059569839388132095}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1695187091827393, 'max_prob': 0.05848827585577965}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1728274822235107, 'max_prob': 0.056935474276542664}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1677587032318115, 'max_prob': 0.06414452195167542}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1711137294769287, 'max_prob': 0.056216008961200714}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.177233934402466, 'max_prob': 0.05977271869778633}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.17620587348938, 'max_prob': 0.05757714435458183}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.170746088027954, 'max_prob': 0.06073826178908348}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1743364334106445, 'max_prob': 0.061559610068798065}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1492860317230225, 'max_prob': 0.06443871557712555}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.17395281791687, 'max_prob': 0.058034852147102356}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.166444778442383, 'max_prob': 0.07652789354324341}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 0.5978128910064697, 'max_prob': 0.8333333134651184}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.1742804050445557, 'max_prob': 0.05454337224364281}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.172544479370117, 'max_prob': 0.050386976450681686}
INFO     artibot.model:model.py:78 {'event': 'ATTN_STATS', 'entropy': 3.176462173461914, 'max_prob': 0.05353609472513199}
--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase></testsuite></testsuites>